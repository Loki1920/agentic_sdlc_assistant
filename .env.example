# ============================================================
# AI Agentic SDLC Assistant — Environment Configuration
# Copy this file to .env and fill in ALL required values.
# NEVER commit .env to version control.
# ============================================================

# ── AWS Bedrock ──────────────────────────────────────────────
AWS_DEFAULT_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
# Optional: use named AWS profile instead of keys
# AWS_PROFILE=your_profile_name

BEDROCK_MODEL_ID=anthropic.claude-3-5-sonnet-20241022-v2:0
BEDROCK_MAX_TOKENS=4096
BEDROCK_TEMPERATURE=0.1

# ── Jira ─────────────────────────────────────────────────────
JIRA_URL=https://your-org.atlassian.net
JIRA_USERNAME=your_email@your-org.com
JIRA_API_TOKEN=your_jira_api_token

# Comma-separated Jira project keys to monitor
JIRA_PROJECTS_FILTER=PROJ,BACKEND

# JQL used for polling (default: find Ready for Dev tickets)
JIRA_POLL_JQL=project in (PROJ) AND status = "Ready for Dev" ORDER BY created DESC

# How often to poll Jira (seconds). Default: 5 minutes
JIRA_POLL_INTERVAL_SECONDS=300

# ── Confluence ───────────────────────────────────────────────
# Confluence base URL (leave blank to skip Confluence retrieval)
CONFLUENCE_URL=https://your-org.atlassian.net/wiki
# Credentials are shared with Jira (same Atlassian account — no extra tokens needed)

# Comma-separated Confluence space keys to search (leave blank to search all spaces)
CONFLUENCE_SPACE_KEYS=ENG,ARCH,API

# Max Confluence pages the agent fetches full content for per ticket
CONFLUENCE_MAX_PAGES=10

# ── GitHub ───────────────────────────────────────────────────
GITHUB_PERSONAL_ACCESS_TOKEN=ghp_your_token_here
GITHUB_REPO_OWNER=your-github-username-or-org
GITHUB_REPO_NAME=your-test-repository
GITHUB_BASE_BRANCH=main

# Comma-separated GitHub usernames to request as reviewers
GITHUB_DEFAULT_REVIEWERS=reviewer1,reviewer2

# ── Persistence ──────────────────────────────────────────────
SQLITE_DB_PATH=data/sdlc_assistant.db
DB_ECHO=false

# ── Logging ──────────────────────────────────────────────────
LOG_LEVEL=INFO
ACTIVITY_LOG_PATH=logs/activity.jsonl
LLM_LOG_PATH=logs/llm_calls.jsonl

# ── Metrics ──────────────────────────────────────────────────
METRICS_PORT=8080
# How often to reconcile PR outcomes from GitHub (seconds)
PR_RECONCILE_INTERVAL_SECONDS=3600

# ── Agent Behaviour ──────────────────────────────────────────
# Max files repo scout will fetch full content for
REPO_SCOUT_MAX_FILES=20
# Completeness score threshold below which ticket is flagged (0.0–1.0)
COMPLETENESS_THRESHOLD=0.65
# Max retry attempts for LLM structured output parse failures
LLM_PARSE_RETRY_COUNT=3

# ── Development / Debug ──────────────────────────────────────
# Set to true to skip Jira comment posting and GitHub PR creation
DRY_RUN=false
